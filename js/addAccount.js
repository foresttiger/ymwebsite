judgeIsLogin();var scope=getSession("scope");"1"!=scope&&$("#admin").remove(),layui.use(["form","layedit","laydate"],function(){var a=layui.form,b=layui.layer,c=layui.layedit,d=layui.laydate,f=c.build("LAY_demo_editor");a.verify({phone:[/^[1][3,4,5,7,8][0-9]{9}$/,"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7"],password:[/(.+){6,12}$/,"\u5BC6\u7801\u5FC5\u987B6\u523012\u4F4D"],content:function(){c.sync(f)}}),a.on("switch(switchTest)",function(g){b.msg("\u5F00\u5173checked\uFF1A"+(this.checked?"true":"false"),{offset:"6px"}),b.tips("\u6E29\u99A8\u63D0\u793A\uFF1A\u8BF7\u6CE8\u610F\u5F00\u5173\u72B6\u6001\u7684\u6587\u5B57\u53EF\u4EE5\u968F\u610F\u5B9A\u4E49\uFF0C\u800C\u4E0D\u4EC5\u4EC5\u662FON|OFF",g.othis)}),a.on("checkbox(admin)",function(){$("#inbound").removeAttr("checked"),$("#outbound").removeAttr("checked"),a.render()}),a.on("checkbox(inbound)",function(){$("#admin").removeAttr("checked"),a.render()}),a.on("checkbox(outbound)",function(){$("#admin").removeAttr("checked"),a.render()}),a.on("submit(demo1)",function(g){console.log(g.field);var h=g.field;switch(!0){case h.admin&&"on"==h.admin:delete h.admin,h.scope="2",h.type="admin",submitAddAccountData(h);break;case"on"==h.inbound&&"on"==h.outbound:h.scope="5",h.type="operator",delete h.inbound,delete h.outbound,submitAddAccountData(h);break;case"on"==h.inbound:h.type="operator",h.scope="3",delete h.inbound,submitAddAccountData(h);break;case"on"==h.outbound:h.scope="4",h.type="operator",delete h.outbound,submitAddAccountData(h);}return!1})});function submitAddAccountData(a){var b=getSession("token");if(!b)return void(window.location.href="../index.html");var c=getSession("token");console.log(a),Object.assign(a,{token:c}),$.ajax({type:"post",url:"http://RainingJoy.xin:9000/saveOrUpdateCustomer",contentType:"application/json",dataType:"json",data:JSON.stringify(a),beforeSend:function(){layer.msg("\u6B63\u5728\u6DFB\u52A0...",{icon:16,time:3e6,shade:[0.1,"#fff"]})},success:function(d){return console.log(d),200==d.status?void(layer.msg("\u6DFB\u52A0\u6210\u529F\uFF01"),$("#form_reset").click()):($("#msg").remove(),layer.msg(d.message),!1)},error:function(){layer.msg("\u7F51\u7EDC\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5\uFF01")}})}