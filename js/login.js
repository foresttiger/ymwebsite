var base=new Base64;(function(a){var b=new Base64;a(".btn").on("click",function(){var c=b.encode(a("#user").val()),d=b.encode(a("#pwd").val());if(""==c)return layer.msg("\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),a("#user").focus(),!1;if(""==d)return layer.msg("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),a("#pwd").focus(),!1;a.ajax({type:"post",url:"http://RainingJoy.xin:9000/login",contentType:"application/json",dataType:"json",data:JSON.stringify({phone:c,password:d,type:"admin"}),beforeSend:function(){layer.msg("\u6B63\u5728\u767B\u5F55...",{icon:16,time:3e6,shade:[0.1,"#fff"]})},success:function(f){return console.log(f.token),200==f.status?void(layer.msg("\u767B\u5F55\u6210\u529F\uFF01"),setSession("token",f.token),setSession("scope",f.scope),setSession(c,d),setTimeout(function(){window.open("pages/manager.html","_self")},1e3)):(a("#msg").remove(),layer.msg(f.message),!1)}})}),document.onkeydown=function(){13==event.keyCode&&a(".btn").click()}})(jQuery);